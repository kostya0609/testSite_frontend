(function(){"use strict";var e={3478:function(e,n,t){var a=t(9963),l=t(6252);const o={key:0};function s(e,n,t,a,s,r){const i=(0,l.up)("nav-bar"),u=(0,l.up)("router-view"),d=(0,l.up)("pre-loader");return(0,l.wg)(),(0,l.j4)(d,{loading:a.loading,class:"px-3"},{default:(0,l.w5)((()=>[a.isOk?((0,l.wg)(),(0,l.iD)("div",o,[a.navBarVisible?((0,l.wg)(),(0,l.j4)(i,{key:0})):(0,l.kq)("",!0),(0,l.Wm)(u)])):(0,l.kq)("",!0)])),_:1},8,["loading"])}var r=t(2262),i=t(2201),u=t(9996);const d='\n    <path class="path" d="\n        M 30 15\n        L 28 17\n        M 25.61 25.61\n        A 15 15, 0, 0, 1, 15 30\n        A 15 15, 0, 1, 1, 27.99 7.5\n        L 15 15\n        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>\n  ';var c={__name:"preLoader",props:{loading:{type:Boolean,value:!1}},setup(e){return(n,t)=>{const a=(0,l.Q2)("loading");return(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{"element-loading-text":"Загрузка данных...","element-loading-spinner":d,"element-loading-svg-view-box":"-10, -10, 50, 50",class:"mx-auto"},[(0,l.WI)(n.$slots,"default")])),[[a,e.loading]])}}};const p=c;var m=p,w=t(3577);const f={class:"relative"};function v(e,n,t,a,o,s){const r=(0,l.up)("el-menu-item"),i=(0,l.up)("el-menu");return(0,l.wg)(),(0,l.iD)("div",f,[(0,l.Wm)(i,{"default-active":a.activeIndex,mode:"horizontal",router:!0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.menu,((e,n)=>((0,l.wg)(),(0,l.j4)(r,{key:n,index:e.path},{default:(0,l.w5)((()=>[(0,l.Uk)((0,w.zw)(e.name),1)])),_:2},1032,["index"])))),128))])),_:1},8,["default-active"])])}var g={name:"navBar",setup(){const e=(0,l.f3)("user"),n=(0,r.iH)(e.roles.indexOf("admin")>=0),t=(0,i.yj)(),a=(0,i.tv)(),o=(0,r.qj)([]);a.getRoutes().forEach((e=>{e.meta.name&&(e.meta.forAdmin?n.value&&o.push({path:e.path,name:e.meta.name,order:e.meta.order}):o.push({path:e.path,name:e.meta.name,order:e.meta.order}))})),o.sort(((e,n)=>e.order-n.order));const s=(0,r.iH)(null);return(0,l.m0)((()=>{s.value=t.path})),{activeIndex:s,menu:o,route:t,router:a}}},_=t(3744);const b=(0,_.Z)(g,[["render",v]]);var y=b,h={name:"App",components:{PreLoader:m,NavBar:y},setup(){const e=(0,i.tv)(),n=(0,r.iH)(!1),t=(0,r.iH)(!1),a=({title:e="",message:n="",type:t="",duration:a=3e3}={})=>{(0,u.bM)({title:e,message:n,type:t,duration:a,dangerouslyUseHTMLString:!0})},o=(0,r.qj)({name:null,roles:[]}),s=(0,l.Fl)((()=>{let n=e.currentRoute.value.name;return["ListQuestions"].includes(n)})),d=()=>{n.value=!0,o.name="Vasya",o.roles.length=0,o.roles.push("admin"),t.value=!0,n.value=!1};return d(),(0,l.JJ)("user",o),(0,l.JJ)("notify",a),{loading:n,isOk:t,navBarVisible:s}}};const q=(0,_.Z)(h,[["render",s]]);var x=q;class k{_url="http://api.kostya0609.online/site";_version="v1";_endpoint="";constructor(e,n="v1"){this._endpoint=e,this._version=n}async _query({method:e="POST",nestedEndpoint:n="",payload:t=null,options:a={download_file:!1},params:l={}}={}){const o=new URL(`${this._url}/${this._version}/${this._endpoint}`+(n?`/${n}`:""));let s={method:e};if(l&&Object.entries(l).forEach((([e,n])=>{n&&o.searchParams.append(e,n)})),t){let e=t instanceof FormData;e?t.append("token",window.token):t.token=window.token,s={...s,body:e?t:JSON.stringify(t,(function(e,n){return"function"===typeof n?""+n:n})),headers:e?{}:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}}}const r=await fetch(o.href,s);return a.download_file?r:await r.json()}}class j extends k{constructor(){super("questions")}async create(e){const n=await this._query({payload:e,nestedEndpoint:"create"});if(!n.success)throw new Error(n.message);return n}async delete(e){const n=await this._query({payload:e,nestedEndpoint:"delete"});if(!n.success)throw new Error(n.message);return n}async list(e){const n=await this._query({payload:e,nestedEndpoint:"list"});if(!n.success)throw new Error(n.message);return n}}const U=new j,W=e=>((0,l.dD)("data-v-19a7451a"),e=e(),(0,l.Cn)(),e),O={class:"px-0 sm:px-10 md:px-20 lg:px-32 xl:px-40 2xl:px-52 py-5"},D={class:"block sm:flex md:flex lg:flex xl:flex 2xl:flex justify-between"},V=W((()=>(0,l._)("h3",{class:"font-bold text-xl"},"Ответы на вопросы",-1))),S=W((()=>(0,l._)("h4",{class:"font-bold text-lg"},"Ваши ответы",-1)));var H={__name:"index",setup(e){const n=(0,l.f3)("notify"),t=(0,r.iH)(!1),a=(0,r.iH)([]),o=(0,r.iH)(!1),s=(0,r.qj)({}),i=(0,r.qj)([{id:1,question:"q1",answers:[{id:1,answer:"a11"},{id:2,answer:"a12"},{id:3,answer:"a13"}]},{id:2,question:"q2",answers:[{id:4,answer:"a21"},{id:5,answer:"a22"},{id:6,answer:"a23"}]},{id:3,question:"q3",answers:[{id:7,answer:"a31"},{id:8,answer:"a32"},{id:9,answer:"a33"}]}]),u=async()=>{try{t.value=!0;let e=await U.list({user_id:10});console.log(e.data)}catch(e){n({title:"Получение данных о вопросах",message:e.message,type:"error",duration:5e3})}finally{t.value=!1}};return u(),i.forEach((e=>s[e.id]=null)),(0,l.YP)((()=>o.value),(()=>{a.value=[]})),(e,n)=>{const u=(0,l.up)("el-switch"),d=(0,l.up)("el-radio"),c=(0,l.up)("el-radio-group"),p=(0,l.up)("el-collapse-item"),f=(0,l.up)("el-collapse");return(0,l.wg)(),(0,l.j4)((0,r.SU)(m),{loading:t.value},{default:(0,l.w5)((()=>[(0,l._)("div",O,[(0,l._)("div",D,[V,(0,l.Wm)(u,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),"active-text":"Аккордеон","inactive-text":"Обычный"},null,8,["modelValue"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i,((e,t)=>((0,l.wg)(),(0,l.j4)(f,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),key:"q_"+t+"_"+e.id,class:"questions_block ml-5",accordion:o.value},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{title:"Вопрос ID "+(t+1)+" - "+e.question},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:s[e.id],"onUpdate:modelValue":n=>s[e.id]=n,class:"!block"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.answers,((e,n)=>((0,l.wg)(),(0,l.j4)(d,{key:"a_"+n+"_"+e.id,label:e.id,class:"!block pl-5 py-1"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Ответ ID "+(0,w.zw)(n+1+" - "+e.answer),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["title"])])),_:2},1032,["modelValue","accordion"])))),128)),S,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s,((e,n)=>((0,l.wg)(),(0,l.iD)("p",{key:e+"_"+n,class:"pl-5 py-1"}," Вопрос ID"+(0,w.zw)(n)+" - "+(0,w.zw)(e?"Ответ ID"+e:" нет ответа"),1)))),128))])])),_:1},8,["loading"])}}};const C=(0,_.Z)(H,[["__scopeId","data-v-19a7451a"]]);var E=C,I={__name:"blueButton",props:{label:{type:String,value:""}},setup(e){return(n,t)=>{const a=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(a,{class:"uppercase blueButton"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,w.zw)(e.label),1)])),_:1})}}};const z=I;var A=z,B={__name:"returnButton",setup(e){return(e,n)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(A),{label:"Назад",onClick:n[0]||(n[0]=e=>{(0,r.SU)(me).back(1)})}))}};const P=B;var L=P;const T={class:"font-bold block mb-1"},Y=(0,l._)("br",{class:"hidden lg:block xl:block 2xl:block"},null,-1);var J={__name:"answerTemplate",props:{answer:Object,question_id:Number},setup(e){const n=(0,l.f3)("questions_list"),t=(e,t)=>{let a=n.findIndex((n=>n.id==e)),l=a>=0?n.find((n=>n.id==e)).answers.findIndex((e=>e.id==t)):null;l>=0&&n[a].answers.splice(l,1)};return(n,a)=>{const o=(0,l.up)("el-input"),s=(0,l.up)("el-col"),r=(0,l.up)("CloseBold"),i=(0,l.up)("el-icon"),u=(0,l.up)("el-button"),d=(0,l.up)("el-row");return(0,l.wg)(),(0,l.j4)(d,{class:"mb-1 pl-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{md:12},{default:(0,l.w5)((()=>[(0,l._)("label",T,"Ответ ID - "+(0,w.zw)(e.answer.id),1),(0,l.Wm)(o,{modelValue:e.answer.answer,"onUpdate:modelValue":a[0]||(a[0]=n=>e.answer.answer=n),class:(0,w.C_)(["w-full",{"border border-red-500":!1}]),type:"textarea",rows:"2",placeholder:"Содержание вопроса"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{md:2,class:"lg:ml-3 my-auto"},{default:(0,l.w5)((()=>[Y,(0,l.Wm)(u,{size:"small",type:"danger",onClick:a[1]||(a[1]=n=>t(e.question_id,e.answer.id))},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1})])),_:1})])),_:1})])),_:1})}}};const K=J;var M=K;const Z={class:"font-bold text-xl mb-1"},$=(0,l._)("label",{class:"font-bold block mb-1"},"Содержание",-1),Q=(0,l._)("br",{class:"hidden lg:block xl:block 2xl:block"},null,-1);var R={__name:"questionTemplate",props:{question:Object},setup(e){const n=(e,n)=>{},t=async e=>{console.log(e)},a=async e=>{console.log(e)};return(o,s)=>{const i=(0,l.up)("el-input"),u=(0,l.up)("el-col"),d=(0,l.up)("CloseBold"),c=(0,l.up)("el-icon"),p=(0,l.up)("el-button"),m=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("h3",Z,"Вопрос ID - "+(0,w.zw)(e.question.id),1),(0,l.Wm)(m,{class:"mb-3 pl-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{md:12},{default:(0,l.w5)((()=>[$,(0,l.Wm)(i,{modelValue:e.question.question,"onUpdate:modelValue":s[0]||(s[0]=n=>e.question.question=n),class:(0,w.C_)(["w-full",{"border border-red-500":!1}]),placeholder:"Содержание вопроса"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,{md:2,class:"lg:ml-3 my-auto"},{default:(0,l.w5)((()=>[Q,(0,l.Wm)(p,{size:"small",type:"danger",onClick:s[1]||(s[1]=n=>t(e.question.id))},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])),_:1})])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.question.answers,((t,a)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(M),{key:"a_"+t.id+"_"+a,answer:e.question.answers[a],"onUpdate:answer":n=>e.question.answers[a]=n,question_id:e.question.id,onAnswerDelete:n},null,8,["answer","onUpdate:answer","question_id"])))),128)),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{md:12,align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(A),{label:"Добавить ответ",onClick:s[2]||(s[2]=n=>a(e.question.id))})])),_:1})])),_:1})])}}};const F=R;var N=F;const G={class:"p-3"};var X={__name:"questions",props:{value:Array},setup(e){const n=async()=>{};return(t,a)=>((0,l.wg)(),(0,l.iD)("div",G,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value,((n,t)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(N),{key:"q_"+n.id+"_"+t,question:e.value[t],"onUpdate:question":n=>e.value[t]=n,class:"mb-5"},null,8,["question","onUpdate:question"])))),128)),(0,l.Wm)((0,r.SU)(A),{label:"Добавить вопрос",onClick:n})]))}};const ee=X;var ne=ee;function te(e,n,t,a,l,o){return null}var ae={name:"settings"};const le=(0,_.Z)(ae,[["render",te]]);var oe=le;const se={class:"flex justify-between mb-3"},re=(0,l._)("h3",{class:"font-bold text-xl"},"Администрирование",-1);var ie={__name:"index",setup(e){(0,l.f3)("notify");const n=(0,r.iH)(!1),t=(0,r.iH)("questions"),a=(0,r.qj)({questions:"Вопросы",settings:"Настройки"}),o=(0,r.qj)([{id:1,question:"q1",answers:[{id:1,answer:"a11"},{id:2,answer:"a12"},{id:3,answer:"a13"}]},{id:2,question:"q2",answers:[{id:4,answer:"a21"},{id:5,answer:"a22"},{id:6,answer:"a23"}]},{id:3,question:"q3",answers:[{id:7,answer:"a31"},{id:8,answer:"a32"},{id:9,answer:"a33"}]}]);return(0,l.JJ)("questions_list",o),(e,s)=>{const i=(0,l.up)("el-tab-pane"),u=(0,l.up)("el-tabs");return(0,l.wg)(),(0,l.j4)((0,r.SU)(m),{loading:n.value,class:"py-3"},{default:(0,l.w5)((()=>[(0,l._)("div",se,[re,(0,l.Wm)((0,r.SU)(L))]),(0,l.Wm)(u,{type:"border-card",modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a,((e,n)=>((0,l.wg)(),(0,l.j4)(i,{label:e,name:n,key:n},null,8,["label","name"])))),128)),"questions"!==t.value||n.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,r.SU)(ne),{key:0,value:o,"onUpdate:value":s[0]||(s[0]=e=>o=e)},null,8,["value"])),"settings"!==t.value||n.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,r.SU)(oe),{key:1}))])),_:1},8,["modelValue"])])),_:1},8,["loading"])}}};const ue=ie;var de=ue;const ce=[{path:"/site/questions/",children:[{path:"list",name:"ListQuestions",component:E,meta:{name:"Вопросы ответы",forAdmin:!1,order:1}}]},{path:"/site/admin/",name:"AdminPage",component:de,meta:{name:"Админка",forAdmin:!0,order:2}}],pe=(0,i.p7)({history:(0,i.PO)("/"),routes:ce,previous:null});pe.beforeEach(((e,n,t)=>{pe.previous=n.name,!pe.getRoutes().find((n=>n.name===e.name))&&pe.push({name:"ListQuestions"}),t()}));var me=pe,we=t(4572),fe=t(3660),ve=t(7484),ge=t.n(ve),_e=(t(600),t(5781));ge().locale("ru");const be=(0,a.ri)(x);be.use(we.Z,{locale:fe.Z}),be.use(me);for(const[ye,he]of Object.entries(_e))be.component(ye,he);be.mount("#app")}},n={};function t(a){var l=n[a];if(void 0!==l)return l.exports;var o=n[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,a,l,o){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[i])}))?a.splice(i--,1):(r=!1,o<s&&(s=o));if(r){e.splice(d--,1);var u=l();void 0!==u&&(n=u)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var l,o,s=a[0],r=a[1],i=a[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(i)var d=i(t)}for(n&&n(a);u<s.length;u++)o=s[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunksite"]=self["webpackChunksite"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(3478)}));a=t.O(a)})();
//# sourceMappingURL=app.01165171.js.map